// On récupère la cellule du tableau où charger le contenu du mail grâce à son id
var thisMail = document.getElementById("<%=@email.id%>");
var mailsContainer = document.getElementById("emails-list");
var secondColTitle = document.getElementById("secondColTitle");

// On vide totalement le contenu du tableau (en gardant son header),
// et on le remplace par le contenu du partial _email_read.html.erb
mailsContainer.innerHTML = "<%= j render 'email_read', email: @email %>";

// On change le titre de la seconde colonne (juque là "Aperçu") pour
// l'objet du mail
secondColTitle.textContent = "<%=@email.object%>";